<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Happy Birthday❤️</title>
  <style>
    /* Keep your entire style section as-is — no changes needed there */
    /* ... (your existing styles here, unchanged) ... */
  </style>
</head>
<body>

<div class="slide-container">
  <!-- Keep your existing slides as-is (no changes needed) -->
</div>

<!-- Audio -->
<audio id="bgSong" src="https://files.catbox.moe/e1az47.mp3"></audio>

<!-- Hearts Container -->
<div class="hearts" id="hearts"></div>

<!-- JavaScript -->
<script>
  let currentSlide = 1;
  let bgSong = document.getElementById("bgSong");

  document.getElementById("playSongBtn").addEventListener("click", function(){
    bgSong.play();
    this.style.display = "none";
    document.getElementById("okBtn").style.display = "inline-block";
  });

  function nextSlide(n){
    document.getElementById("slide" + currentSlide).classList.remove("active");
    document.getElementById("slide" + n).classList.add("active");
    currentSlide = n;
  }

  function heartsPage(){
    document.getElementById("slide3").innerHTML =
      "<h1>Oye Jaan sunn na</h1><p>❤️</p><button onclick='nextSlide(4)'>Hanji kachua🐢..Bolo</button>";
  }

  function sorryLine(){
    alert("Pitenge re ..konsa baat nhi mana mene😒🖕🏻");
    nextSlide(4);
  }

  function bhagOption(){
    document.getElementById("slide4").innerHTML = `
      <h1>Bhaag Be!! 😝</h1>
      <button onclick="nextSlide(5)">Sorry I love you jaan😝🤍</button>
    `;
  }

  function yesLine(){
    alert("I KNEW IT!! 😎❤️");
    document.getElementById("slide5").innerHTML = `
      <img src="https://i.postimg.cc/FFxY4NP7/image.jpg" alt="Couple Pic">
      <p>MY WISH IS — I want us to be more than this.<br>Will you be mine? ❤️</p>
      <button onclick="nextSlide(6)">Hanji Jaan 🤍</button>
      <button onclick="extraPage()">Na patane mei aur mehenat lagega</button>
    `;
  }

  function extraPage(){
    document.getElementById("slide5").innerHTML = `
      <img src="https://i.postimg.cc/wvjjxs4M/IMG-20250610-WA0127.jpg" alt="Couple Pic">
      <button onclick="nextSlide(6)">Ok mann gaya</button>
      <button onclick="nextSlide(6)">Paglait mei innocent hun..mann gaya tha pehele hee😁😗</button>
    `;
  }

  const heartsContainer = document.getElementById('hearts');

  function createHeart(){
    const heart = document.createElement('span');
    heart.classList.add('heart');
    heart.textContent = '❤️';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (3 + Math.random()*3) + 's';
    heartsContainer.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }

  let heartInterval = null;
  function startHearts(){
    if(heartInterval) return;
    heartsContainer.style.display = 'block';
    heartInterval = setInterval(createHeart, 400);
  }

  function stopHearts(){
    if(heartInterval){
      clearInterval(heartInterval);
      heartInterval = null;
      heartsContainer.innerHTML = '';
      heartsContainer.style.display = 'none';
    }
  }

  function finalLove(){
    startHearts();
    document.getElementById("slide6").innerHTML += "<h2>Hey Boyfie...I love you my KHARUS❤️</h2>";
    setTimeout(() => { alert("YAYYYY! Love you forever! ❤️"); }, 3000);
  }

  // Dodge logic
  document.addEventListener("mousemove", function(e){
    let dodge = document.querySelectorAll(".dodge");
    dodge.forEach(btn => {
      let rect = btn.getBoundingClientRect();
      let dx = e.clientX - (rect.left + rect.width/2);
      let dy = e.clientY - (rect.top + rect.height/2);
      if(Math.abs(dx) < 100 && Math.abs(dy) < 80){
        let newLeft = Math.random() * (window.innerWidth - rect.width);
        let newTop = Math.random() * (window.innerHeight - rect.height);
        btn.style.position = "fixed";
        btn.style.left = newLeft + "px";
        btn.style.top = newTop + "px";
      }
    });
  });

  // Disable dodge buttons on mobile
  function isMobile(){
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
  }

  document.addEventListener("DOMContentLoaded", function(){
    if (isMobile()) {
      document.querySelectorAll(".dodge").forEach(btn => {
        btn.disabled = true;
        btn.style.opacity = 0.4;
        btn.textContent = "😊";
      });
    }
  });
</script>
</body>
</html>
